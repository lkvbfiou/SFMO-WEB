<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin: Manage Homes</title>
  <style>
    body { font-family: Arial; padding: 1em; }
    .preview { max-width: 200px; margin-top: .5em; display: block; }
    .home-item { border:1px solid #ccc; padding:.5em; margin:.5em 0; }
    .home-item button { margin-top:.5em; display:block; }
    button { padding:.5em 1em; background:#660000; color:#fff; border:none; border-radius:4px; cursor:pointer; }
    button:hover { background:#440000; }
    label { display:block; margin-bottom:.5em; }
    input, textarea { width:100%; padding:.5em; margin-top:.2em; box-sizing:border-box; }
  </style>
</head>
<body>

  <!-- Firebase SDK Init -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase }   from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    // **Your actual Firebase config below**
    const firebaseConfig = {
      apiKey: "AIzaSyAb-MHQwnocdR3hfbh3jjR0TdfXG_ZWxVU",
      authDomain: "realestatehomesadmin.firebaseapp.com",
      databaseURL: "https://realestatehomesadmin-default-rtdb.firebaseio.com",
      projectId: "realestatehomesadmin",
      storageBucket: "realestatehomesadmin.appspot.com",
      messagingSenderId: "243682405794",
      appId: "1:243682405794:web:5bf48d15fda558a62996fb",
      measurementId: "G-FDXTBEV5TN"
    };

    const app = initializeApp(firebaseConfig);
    const db  = getDatabase(app);
    window.firebaseApp = app;
    window.firebaseDb  = db;
  </script>

  <h1>Add a New Home</h1>
  <form id="homeForm">
    <label>Title
      <input type="text" id="title" required>
    </label>
    <label>Address
      <input type="text" id="address">
    </label>
    <label>Price
      <input type="text" id="price" required>
    </label>
    <label>Description
      <textarea id="desc" rows="3" required></textarea>
    </label>
    <label>Liaison Phone
      <input type="text" id="phone">
    </label>
    <label>Liaison Email
      <input type="email" id="email">
    </label>
    <label>External Listing URL
      <input type="url" id="link" placeholder="https://â€¦">
    </label>
    <label>
      Image
      <input type="file" id="imgFile" accept="image/*" required>
      <img id="imgPreview" class="preview" alt="">
    </label>
    <button type="submit">Save Home</button>
  </form>

  <h2>Current Homes</h2>
  <div id="homesList"></div>
  <button id="deleteAllHomesBtn">Delete All Homes</button>

  <!-- Module script must be type="module" -->
  <script src="../js/admin.js" type="module" defer></script>
</body>
</html>
